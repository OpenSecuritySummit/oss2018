<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=robots content="all,follow"><meta name=googlebot content="index,follow,snippet,archive"><meta name=viewport content="width=device-width,initial-scale=1"><title>Securing the CI Pipeline</title><meta name=author content><meta name=keywords content="open,summit,security"><meta name=description content="The Open Security Summit 2018 is focused on the collaboration between Developers and Application Security. Using the same model as the previous OWASP Summits, this 5-day event will be a high-energy experience, during which attendees get the chance to work and collaborate intensively."><meta name=generator content="Hugo 0.78.2"><link href="//fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,500,700,800" rel=stylesheet type=text/css><link rel=stylesheet href=//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css><link rel=stylesheet href=//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css integrity=sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u crossorigin=anonymous><link href=https://2018.open-security-summit.org/css/animate.css rel=stylesheet><link href=https://2018.open-security-summit.org/css/style.green.css rel=stylesheet id=theme-stylesheet><link href=https://2018.open-security-summit.org/css/custom.css rel=stylesheet><link href=https://2018.open-security-summit.org/css/lightslider.css rel=stylesheet><link href=https://2018.open-security-summit.org/css/oss2018.css rel=stylesheet><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script><script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]--><link rel=apple-touch-icon sizes=180x180 href="https://2018.open-security-summit.org/img/apple-touch-icon.png?v=ngkKMe9Q2r"><link rel=icon type=image/png sizes=32x32 href="https://2018.open-security-summit.org/img/favicon-32x32.png?v=ngkKMe9Q2r"><link rel=icon type=image/png sizes=16x16 href="https://2018.open-security-summit.org/img/favicon-16x16.png?v=ngkKMe9Q2r"><link rel=manifest href="https://2018.open-security-summit.org/img/site.webmanifest?v=ngkKMe9Q2r"><link rel=mask-icon href="https://2018.open-security-summit.org/img/safari-pinned-tab.svg?v=ngkKMe9Q2r" color=#5bbad5><link rel="shortcut icon" href="https://2018.open-security-summit.org/img/favicon.ico?v=ngkKMe9Q2r"><meta name=msapplication-TileColor content="#da532c"><meta name=msapplication-config content="https://2018.open-security-summit.org/img/browserconfig.xml?v=ngkKMe9Q2r"><meta name=theme-color content="#ffffff"><link href=https://2018.open-security-summit.org/css/owl.carousel.css rel=stylesheet><link href=https://2018.open-security-summit.org/css/owl.theme.css rel=stylesheet><link rel=alternate href=https://2018.open-security-summit.org/index.xml type=application/rss+xml title="Open Security Summit 2018"><meta property="og:title" content="Securing the CI Pipeline"><meta property="og:type" content="website"><meta property="og:url" content="/outcomes/tracks/devsecops/working-sessions/securing-the-ci-pipeline//"><meta property="og:image" content="img/logo.png"></head><body><div id=all><header class="full-bg background-outcomes"><div class=dark-mask></div><div class=navbar-affixed-top data-spy=affix data-offset-top=200><div class="navbar navbar-default" role=navigation id=navbar><div class=container><div class=navbar-header><a class="navbar-brand home" href=https://2018.open-security-summit.org/><img src=https://2018.open-security-summit.org/img/supported-by-owasp-dark.png alt="Securing the CI Pipeline logo" class="oss-logo img img-responsive hidden-xs hidden-sm">
<img src=https://2018.open-security-summit.org/img/supported-by-owasp-dark.png alt="Securing the CI Pipeline logo" class="oss-logo img imr-responsive visible-xs visible-sm">
<span class=sr-only>Securing the CI Pipeline - go to homepage</span></a><div class=navbar-buttons><button type=button class="navbar-toggle btn-template-main" data-toggle=collapse data-target=#navigation>
<span class=sr-only>Toggle Navigation</span>
<i class="fa fa-align-justify"></i></button></div></div><div class="navbar-collapse collapse" id=navigation><ul class="nav navbar-nav navbar-right"><li class=dropdown><a href=/reactions>Reactions</a></li><li class=dropdown><a href=/outcomes/>Outcomes</a></li><li class=dropdown><a href=/photo-gallery/>Photo Gallery</a></li><li class=dropdown><a href=# class=dropdown-toggle data-toggle=dropdown role=button aria-haspopup=true aria-expanded=false>Sessions <span class=caret></span></a><ul class=dropdown-menu><li><a href=/tracks/>Tracks</a></li><li><a href=/topics/>Topics</a></li><li><a href=/working-sessions/>Working Sessions</a></li><li><a href=/user-sessions/>User Sessions</a></li><li><a href=/teams>Teams</a></li><li><a href=/product-sessions>Product Sessions</a></li><li><a href=/schedule/all>Schedule</a></li></ul></li><li class=dropdown><a href=# class=dropdown-toggle data-toggle=dropdown role=button aria-haspopup=true aria-expanded=false>Participants <span class=caret></span></a><ul class=dropdown-menu><li><a href=/participant/>Onsite Participants</a></li><li><a href=/participant-remote/>Remote Participants</a></li></ul></li><li class=dropdown><a href=# class=dropdown-toggle data-toggle=dropdown role=button aria-haspopup=true aria-expanded=false>About <span class=caret></span></a><ul class=dropdown-menu><li><a href=/about/>The Summit</a></li><li><a href=/venue/>Venue</a></li><li><a href=/faq/>Faq</a></li></ul></li><li class=dropdown><a href=/sponsors/>Sponsors</a></li><li class=dropdown><a href=/tickets/>Tickets</a></li></ul></div></div></div></div></header><div class="inner_main_outcomes hidden-print"><div class=center_heading><div class=container><h1>Outcomes</h1></div></div></div><div id=content><div class=container><div class=row><div class=col-md-12><div><div class="col-md-12 hidden-print"><div class="outcome-content col-md-8"><div class=clues><ul class=visual-clues><li class=pull-right><a class=bg-default href=https://join.slack.com/t/os-summit/shared_invite/enQtMzY4NTk4MzYxNDExLTZjMDFlNDc5YTBkNDU1ZWM5NjM2MDNlZjI0Njc5MDc1NDljOGZjMjliYzNkOTA3OWEyMzczMzI2MjgyYzZlMzc target=_blank><i class="fa fa-slack"></i>Invite link</a></li><li class=pull-right><a class=bg-default href=https://os-summit.slack.com/messages/CAUNFBMAL target=_blank><i class="fa fa-slack"></i>Session</a></li><li class=pull-right><a class=bg-default href=https://owaspsummit.org/Outcomes/ target=_blank><i class=fa></i>2017 Outcomes</a></li><li class=pull-right><a class=bg-default href=/outcomes/><i class="fa fa-check"></i>2018 Outcomes</a></li></ul></div>&nbsp;</div></div><div class=col-md-12><div class="outcome-content col-md-8"><h1>Securing the CI Pipeline</h1>View the <a href=https://2018.open-security-summit.org/tracks/devsecops/working-sessions/securing-the-ci-pipeline/>original Working Session content</a><hr></div><div class="grey-sidebar col-md-4">&nbsp;</div></div><div class=col-md-12><div class="outcome-content col-md-8"><h2 id=outcomes>Outcomes</h2><p>This Working Session took an in-depth look at the security risks inherent to the CI Pipeline, and what could be done to mitigate these risks.</p><h2 id=synopsis-and-takeaways>Synopsis and Takeaways</h2><h4 id=why-do-we-need-to-secure-the-ci-pipeline>Why do we need to secure the CI Pipeline?</h4><ul><li>The CI pipeline is huge,consisting of multiple hosts/machines with multiple points of access and processes.</li><li>The pipeline contains high value targets for attackers, such as:<ul><li>Access to compilers</li><li>Config files</li><li>Secrets, keys, passwords. Developers often store keys and other secrets in spreadsheets, config files, Git repositories</li></ul></li><li>Assets accessible on the pipeline can be used to escalate privileges</li><li>Several mechanisms for taking advantage of the above were demonstrated.</li><li>Although risks are lower in a pipeline that fully implements security standards, pipelines practicing less than ideal security hygiene are not uncommon.</li></ul><h4 id=categories-of-risks-identified>Categories of risks identified:</h4><ul><li>Misconfigurations</li><li>Secret management</li><li>Environment security</li><li>Developer machines</li><li>Access management</li></ul><h4 id=what-can-you-do>What can you do?</h4><ul><li>Enable Authentication and Two Factor Authentication methods.</li><li>Check for misconfigurations:<ul><li>hooks</li><li>secret variables (CI, prod, VCS, artefacts)</li><li>VCS security</li><li>Docker configuration/registry</li><li>Artefact hardening</li></ul></li><li>Get your code review right</li><li>Implement secure secrets management</li><li>Auditing and monitoring CI/CD servers</li><li>Harden CI boxes</li><li>Protect the CI master machines</li><li>Check registries/artefact storage</li><li>Secure developer&rsquo;s machines</li><li>Consider using secret management and automated access provision tools (see below)</li><li>Use Docker best practices for security</li></ul><p><strong>In general, the security of the CI/CD pipelines should be considered as important as your production security!</strong></p><h4 id=tools-for-securing-the-pipeline-covered-in-session>Tools for Securing the Pipeline, covered in session:</h4><ul><li>Automated access management/provision:<ul><li><a href=https://github.com/Netflix/repokid>repokid</a></li><li><a href=https://github.com/Netflix/hubcommander>hubcommander</a></li></ul></li><li>Secret management and automated access provision<ul><li><a href=https://www.vaultproject.io/>Hashicorp Vault</a> - getting to know and use Vault is highly recommended</li></ul></li></ul><p>A tool like Hashicorp&rsquo;s Vault can help by providing:</p><ul><li>Secret management</li><li>Automated and on demand access provision. This provides you with processes that lets you control who has access, how long they have access for (limited time to live)</li><li>Whitelist IPs</li><li>Two Factor Authentication, with team based authentication available</li></ul><h4 id=other-miscellaneous-threats-mentioned>Other Miscellaneous Threats mentioned:</h4><ul><li>npm typosquatting</li><li>Logs can be a risk (eg. recent GitHub log incident)</li><li>Docker image integrity and registry mis-configurations</li></ul><h2 id=references>References</h2><ul><li><a href=https://open-security-summit.org/tracks/devsecops/working-sessions/securing-the-ci-pipeline/>Session page</a></li><li><a href=https://owaspsummit.org/Working-Sessions/DevSecOps/Securing-the-CI-Pipeline.html>Summit 2017 session page</a></li></ul><h4 id=additionalexternal-references>Additional/External References</h4><ul><li><a href=https://www.nccgroup.trust/uk/our-research/securing-the-continuous-integration-process>How to Secure a Continuous Integration Process</a></li><li><a href="https://www.youtube.com/watch?v=nBR7Kru6JX0">DEF CON 22 - Kyle Kelley and Greg Anderson - Is This Your Pipe? Hijacking the Build Pipeline</a></li><li><a href="https://www.youtube.com/watch?v=P8891Z_uj-0">Blackhat Kubernetes: preventing attacks at scale - Dino Dai Zovi</a></li></ul></div><div class="outcome-sidebar col-md-4 hidden-print"><h2 class=oswald-blue>Session organiser(s)</h2><span class=hidden-print><a href=https://2018.open-security-summit.org/participant/owasp/imran-mohammed-a/>Imran Mohammed A</a></span>
<span class=visible-print><b>Imran Mohammed A</b></span>
,
<span class=hidden-print><a href=https://2018.open-security-summit.org/participant/devseccon/francois-raynaud/>Francois Raynaud</a></span>
<span class=visible-print><b>Francois Raynaud</b></span><h2 class=oswald-blue>Participants</h2><span class=hidden-print><a href=https://2018.open-security-summit.org/participant/tickets/arne-zismer/>Arne Zismer</a></span>
<span class=visible-print><b>Arne Zismer</b></span>
,
<span class=hidden-print><a href=https://2018.open-security-summit.org/participant/jemarketing/franziska-buehler/>Franziska Buehler</a></span>
<span class=visible-print><b>Franziska Buehler</b></span>
,
<span class=hidden-print><a href=https://2018.open-security-summit.org/participant/abhinav-sejpal/>Abhinav Sejpal</a></span>
<span class=visible-print><b>Abhinav Sejpal</b></span>
,
<span class=hidden-print><a href=https://2018.open-security-summit.org/participant/alina_radu/>Alina Radu</a></span>
<span class=visible-print><b>Alina Radu</b></span>
,
<span class=hidden-print><a href=https://2018.open-security-summit.org/participant/clara_anel_mansilla/>Clara Anel Mansilla</a></span>
<span class=visible-print><b>Clara Anel Mansilla</b></span>
,
<span class=hidden-print><a href=https://2018.open-security-summit.org/participant/claudio-camerino/>Claudio Camerino</a></span>
<span class=visible-print><b>Claudio Camerino</b></span>
,
<span class=hidden-print><a href=https://2018.open-security-summit.org/participant/dominik-de-smit/>Dominik de Smit</a></span>
<span class=visible-print><b>Dominik de Smit</b></span>
,
<span class=hidden-print><a href=https://2018.open-security-summit.org/participant/avatao/gabor-pek/>Gabor Pek</a></span>
<span class=visible-print><b>Gabor Pek</b></span>
,
<span class=hidden-print><a href=https://2018.open-security-summit.org/participant-remote/imran-chaudhari/>Imran Chaudhari</a></span>
<span class=visible-print><b>Imran Chaudhari</b></span>
,
<span class=hidden-print><a href=https://2018.open-security-summit.org/participant/tickets/luis-saiz/>Luis Saiz</a></span>
<span class=visible-print><b>Luis Saiz</b></span>
,
<span class=hidden-print><a href=https://2018.open-security-summit.org/participant/certdev/mario-platt/>Mario Platt</a></span>
<span class=visible-print><b>Mario Platt</b></span>
,
<span class=hidden-print><a href=https://2018.open-security-summit.org/participant/matt-pendlebury/>Matt Pendlebury</a></span>
<span class=visible-print><b>Matt Pendlebury</b></span>
,
<span class=hidden-print><a href=https://2018.open-security-summit.org/participant/peter-turczak/>Peter Turczak</a></span>
<span class=visible-print><b>Peter Turczak</b></span>
,
<span class=hidden-print><a href=https://2018.open-security-summit.org/participant/sotiraki-sima/>Sotiraki Sima</a></span>
<span class=visible-print><b>Sotiraki Sima</b></span>
,
<span class=hidden-print><a href=https://2018.open-security-summit.org/participant/sven_schleier/>Sven Schleier</a></span>
<span class=visible-print><b>Sven Schleier</b></span>
<span class=hidden-print><a href=https://2018.open-security-summit.org/participant-remote/aaron-lane/>Aaron Lane</a></span>
<span class=visible-print><b>Aaron Lane</b></span>
,
<span class=hidden-print><a href=https://2018.open-security-summit.org/participant/abdullah-garcia/>Abdullah Garcia</a></span>
<span class=visible-print><b>Abdullah Garcia</b></span>
,
<span class=hidden-print><a href=https://2018.open-security-summit.org/participant-remote/photobox-gs/abhi-raj/>Abhi Raj</a></span>
<span class=visible-print><b>Abhi Raj</b></span>
,
<span class=hidden-print><a href=https://2018.open-security-summit.org/participant-remote/andrew-martin/>Andrew Martin</a></span>
<span class=visible-print><b>Andrew Martin</b></span>
,
<span class=hidden-print><a href=https://2018.open-security-summit.org/participant-remote/barbara-schachner/>Barbara Schachner</a></span>
<span class=visible-print><b>Barbara Schachner</b></span>
,
<span class=hidden-print><a href=https://2018.open-security-summit.org/participant-remote/domenico-malorni/>Domenico Malorni</a></span>
<span class=visible-print><b>Domenico Malorni</b></span>
,
<span class=hidden-print><a href=https://2018.open-security-summit.org/participant-remote/ernesto-bethencourt/>Ernesto Bethencourt</a></span>
<span class=visible-print><b>Ernesto Bethencourt</b></span>
,
<span class=hidden-print><a href=https://2018.open-security-summit.org/participant-remote/guy-jarvis/>Guy Jarvis</a></span>
<span class=visible-print><b>Guy Jarvis</b></span>
,
<span class=hidden-print><a href=https://2018.open-security-summit.org/participant-remote/harmeet-singh/>Harmeet Singh</a></span>
<span class=visible-print><b>Harmeet Singh</b></span>
,
<span class=hidden-print><a href=https://2018.open-security-summit.org/participant-remote/lubo_vikev/>Lubo Vikev</a></span>
<span class=visible-print><b>Lubo Vikev</b></span>
,
<span class=hidden-print><a href=https://2018.open-security-summit.org/participant-remote/madhu-akula/>Madhu Akula</a></span>
<span class=visible-print><b>Madhu Akula</b></span>
,
<span class=hidden-print><a href=https://2018.open-security-summit.org/participant-remote/mohanish-mahajan/>Mohanish Mahajan</a></span>
<span class=visible-print><b>Mohanish Mahajan</b></span>
,
<span class=hidden-print><a href=https://2018.open-security-summit.org/participant-remote/mustaqiim-muhar/>Mustaqiim Muhar</a></span>
<span class=visible-print><b>Mustaqiim Muhar</b></span>
,
<span class=hidden-print><a href=https://2018.open-security-summit.org/participant-remote/paul-cutting/>Paul Cutting</a></span>
<span class=visible-print><b>Paul Cutting</b></span>
,
<span class=hidden-print><a href=https://2018.open-security-summit.org/participant-remote/sergio-issi/>Sergio Issi</a></span>
<span class=visible-print><b>Sergio Issi</b></span>
,
<span class=hidden-print><a href=https://2018.open-security-summit.org/participant-remote/sophie-tonnoir/>Sophie Tonnoir</a></span>
<span class=visible-print><b>Sophie Tonnoir</b></span>
,
<span class=hidden-print><a href=https://2018.open-security-summit.org/participant-remote/sugumaran-uppili/>Sugumaran Uppili</a></span>
<span class=visible-print><b>Sugumaran Uppili</b></span>
,
<span class=hidden-print><a href=https://2018.open-security-summit.org/participant-remote/vandana-verma/>Vandana Verma</a></span>
<span class=visible-print><b>Vandana Verma</b></span>
,
<span class=hidden-print><a href=https://2018.open-security-summit.org/participant-remote/vinod-anandan/>Vinod Anandan</a></span>
<span class=visible-print><b>Vinod Anandan</b></span><h3>Attached materials:</h3></div><hr></div><hr><div class="edit-link hidden-print"><ul class=github><li><a href=https://github.com/OpenSecuritySummit/oss2018/edit/master/content/outcomes/tracks/DevSecOps/working-sessions/securing-the-ci-pipeline.md target=_blank><i class="fa fa-pencil-square-o"></i>Edit this page</a></li></ul></div></div></div></div></div></div><footer id=footer class=hidden-print><div class=container><div class=row><div class="col-xs-0 col-sm-0"></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><h3>About</h3><p>The Open Security Summit 2018 is focused on the collaboration between, Developers and Application Security. Using the same model as the previous OWASP Summits, this 5-day event will be a high-energy experience, during which attendees get the chance to work and collaborate intensively.</p><p>Copyright &copy; 2018, Open Security Summit</p><p><a href=/privacy-notice>Privacy Notice</a></p></div><div class="col-xs-12 col-sm-6 col-md-3 col-lg-3"><h3>Contact</h3></div><div class="col-xs-12 col-sm-6 col-md-3 col-lg-3"><h3>Follow Us</h3><a href=https://twitter.com/opensecsummit target=_blank><img src=/img/blocks/twitter.svg alt="twitter logo"></a>
<a href=https://github.com/OpenSecuritySummit/oss2018 target=_blank><img src=/img/blocks/github.svg alt="github logo"></a>
<a href=https://os-summit.slack.com/messages/CAULHPHU2 target=_blank><img src=/img/blocks/slack.svg alt="slack logo"></a><p style=margin-top:5px><a href=https://os-summit.slack.com/messages/CAVJH8QJV target=blank>Do you need help <i class="fa fa-question-circle" aria-hidden=true></i></a></p></div></div></div></footer></div><script src=//code.jquery.com/jquery-3.1.1.min.js integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin=anonymous></script><script src=//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js integrity=sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa crossorigin=anonymous></script><script src=//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js></script><script src=https://2018.open-security-summit.org/js/front.js></script><script src=https://2018.open-security-summit.org/js/tabs.js></script><script src=https://2018.open-security-summit.org/js/owl.carousel.min.js></script></body></html>